<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>PhoneGap API Documentation</title>



<script type="text/javascript">
var lang;
var query = window.location.search;
  // Skip the leading ?, which should always be there, 
  // but be careful anyway
  if (query.substring(0, 1) == '?') {
    query = query.substring(1);
  }
  var data = query.split(','); 
  for (i = 0; (i < data.length); i++) {
    data[i] = unescape(data[i]);
  }
  

var ads;
var header;

lang=data[0];
if( lang=='ar'){
	ads='إعلانات';
	header='المعرض والمؤتمر الدولي للتعليم <br> العالي 2011';
document.write('<script type="text/javascript" src="js/data_ar.js" ></scr'+'ipt>');
document.write('<link rel="stylesheet" type="text/css" href="Css/persons_ar.css" >');
}else {
	ads='Ads';
header='Intl Exh & Conf on Higher<br>Education 2011';
document.write('<script type="text/javascript" src="js/data_en.js" ></scr'+'ipt>');
document.write('<link rel="stylesheet" type="text/css" href="Css/persons_en.css" >');
}

</script>


<body >


		<div id="header">
        <a id="homeURL1">
 <img class="backFeeds" onClick="goBack();"src="images/spacer.png" /></a>
<a id="homeURL"><img class="home" onClick="goHome();"src="images/spacer.png"/></a>
			<h5><script>  
			document.getElementById('homeURL').href='index.html?'+lang;
			document.getElementById('homeURL1').href='feedscats.html?'+lang;
			document.write(header);</script> </h5>
		</div>

		<div id="scrollable">
        		

    		<div id="content">
    			<div id="home">
                
    <h1><a > </a></h1>
    
    <ul id="Events_html">
    

        
    </ul>
 
</div>



    			<div id="home">
    <h1><a ><script> document.write(ads);</script></a></h1>
    <ul>

        
<li>
  <img border="0" class="ads" src="images/ads.png" alt="Pulpit rock" width="304" height="228" />
</li>

        
    </ul>
</div>
</div>
		</div>

	</body>
    
    <script>
var Events_html = document.getElementById('home'); 
//var result = document.getElementById('result'); 
var htmll=[];
var mygetrequest= new XMLHttpRequest();

 	//	htmll.push('<li>'+mygetrequest+'</li>');
	//	result.innerHTML = htmll.join('');
mygetrequest.onreadystatechange=function(){
 if (mygetrequest.readyState==4){

	  //		htmll.push("<li>readyState==4</li>");
	//	result.innerHTML = htmll.join('');
  if (mygetrequest.status==200 || window.location.href.indexOf("http")==-1){

  //		htmll.push("<li>readyState==200</li>");
	//	result.innerHTML = htmll.join('');
		  //retrieve result as an JavaScript object
   var jsondata=eval(mygetrequest.responseText);
  // htmll.push('<li> jsondata : '+jsondata.length+'</li>');
   var tt;
   var temp;
   var ie;
   for(var t=0;t<jsondata.length;t++){
      tt=jsondata[t].text;
	temp = new Array();
	temp = tt.split(' ');
 
	for(var i=0;i<temp.length;i++){
	//	 htmll.push('<li>temp['+i+'] : '+temp[i]+'</li>');
	//	 result.innerHTML = htmll.join('');
		if(	temp[i].indexOf('@')!=-1){
			ie=	temp[i].indexOf('@');	
			// htmll.push('<li> temp[i] : '+temp[i]+'</li>');
	 		// htmll.push('<li>index of "@" : '+ie+'</li>');
			// result.innerHTML = htmll.join('');
			 var yy=temp[i];

	 		// htmll.push('<li>yy : '+yy+'</li>');
			//result.innerHTML = htmll.join('');
		    temp[i]='<a class ="twitter" href="http://www.twitter.com/'+temp[i]+'">'+yy+'</a>';
			continue;
		}
		
		if(	temp[i].indexOf('http')!=-1){
			var iie=	temp[i].indexOf('http');	
			// htmll.push('<li> temp[i] : '+temp[i]+'</li>');
	 		// htmll.push('<li>index of "http" : '+iie+'</li>');
			// result.innerHTML = htmll.join('');
			 var ttt=temp[i];

	 		// htmll.push('<li>ttt : '+ttt+'</li>');
			//result.innerHTML = htmll.join('');
		    temp[i]='<a class ="twitter" href="'+ttt+'">[link]</a>';
			continue;
		}
		if(	temp[i].indexOf('#')!=-1){
			var iie=	temp[i].indexOf('#');	
			// htmll.push('<li> temp[i] : '+temp[i]+'</li>');
	 		// htmll.push('<li>index of "http" : '+iie+'</li>');
			// result.innerHTML = htmll.join('');
			 var ttt=temp[i];
			 var t3='';
			var modi=ttt.split('#');			
			console.log(modi.length);
			modi[0]="%23"; 
			for(var u=0;u<modi.length;u++){
				t3+=modi[u];
			}
	 		// htmll.push('<li>ttt : '+ttt+'</li>');
			//result.innerHTML = htmll.join('');
		    temp[i]='<a class ="twitter" href="http://twitter.com/#!/search?q='+t3+'">'+ttt+'</a>';
			continue;
		}
	}
 
	tt='';
	for(var i=0;i<temp.length;i++){
		tt+=temp[i]+' ';
	}
   
      htmll.push(' <ul id="Events_html"><li> <h2 class="twitter">  '+tt+'</h2> </li></ul>');
	Events_html.innerHTML = htmll.join('');
	
	}   
    
  
  }
  else{
   alert("An error has occured making the request")
  }
 }
}

mygetrequest.open("GET", "http://api.twitter.com/1/statuses/user_timeline.json?screen_name=mrxprt", true)
mygetrequest.send(null);

	</script>
</html>
